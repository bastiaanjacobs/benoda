{"ast":null,"code":"var _jsxFileName = \"/Volumes/WWW/benoda/src/pages/Preview.js\";\nimport React, { useEffect } from 'react';\nimport qs from 'qs';\nimport { Loader } from '../components';\nimport { linkResolver } from '../prismic-configuration';\nimport { client } from '../utils/prismicHelpers';\n/**\n * Prismic preview component\n */\n\nvar Preview = function Preview(_ref) {\n  var history = _ref.history,\n      location = _ref.location;\n  useEffect(function () {\n    var params = qs.parse(location.search.slice(1));\n\n    if (!params.token) {\n      return console.warn(\"Unable to retrieve the session token from provided url. \\n\\n      Check https://prismic.io/docs/rest-api/beyond-the-api/the-preview-feature for more info\");\n    } // Retrieve the correct URL for the document being previewed.\n    // Once fetched, redirect to the given url\n\n\n    client.previewSession(params.token, linkResolver, '/').then(function (url) {\n      return history.push(url);\n    });\n  });\n  return React.createElement(Loader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  });\n};\n\nexport default Preview;","map":{"version":3,"sources":["/Volumes/WWW/benoda/src/pages/Preview.js"],"names":["React","useEffect","qs","Loader","linkResolver","client","Preview","history","location","params","parse","search","slice","token","console","warn","previewSession","then","url","push"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,EAAP,MAAe,IAAf;AAEA,SAASC,MAAT,QAAuB,eAAvB;AACA,SAASC,YAAT,QAA6B,0BAA7B;AACA,SAASC,MAAT,QAAuB,yBAAvB;AAEA;;;;AAGA,IAAMC,OAAO,GAAG,SAAVA,OAAU,OAA2B;AAAA,MAAxBC,OAAwB,QAAxBA,OAAwB;AAAA,MAAfC,QAAe,QAAfA,QAAe;AACzCP,EAAAA,SAAS,CAAC,YAAM;AACd,QAAMQ,MAAM,GAAGP,EAAE,CAACQ,KAAH,CAASF,QAAQ,CAACG,MAAT,CAAgBC,KAAhB,CAAsB,CAAtB,CAAT,CAAf;;AACA,QAAI,CAACH,MAAM,CAACI,KAAZ,EAAmB;AACjB,aAAOC,OAAO,CAACC,IAAR,6JAAP;AAED,KALa,CAOd;AACA;;;AACAV,IAAAA,MAAM,CAACW,cAAP,CAAsBP,MAAM,CAACI,KAA7B,EAAoCT,YAApC,EAAkD,GAAlD,EACGa,IADH,CACQ,UAAAC,GAAG;AAAA,aAAIX,OAAO,CAACY,IAAR,CAAaD,GAAb,CAAJ;AAAA,KADX;AAED,GAXQ,CAAT;AAaA,SAAO,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACD,CAfD;;AAiBA,eAAeZ,OAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport qs from 'qs';\n\nimport { Loader } from '../components';\nimport { linkResolver } from '../prismic-configuration';\nimport { client } from '../utils/prismicHelpers';\n\n/**\n * Prismic preview component\n */\nconst Preview = ({ history, location }) => {\n  useEffect(() => {\n    const params = qs.parse(location.search.slice(1));\n    if (!params.token) {\n      return console.warn(`Unable to retrieve the session token from provided url. \\n\n      Check https://prismic.io/docs/rest-api/beyond-the-api/the-preview-feature for more info`)\n    }\n\n    // Retrieve the correct URL for the document being previewed.\n    // Once fetched, redirect to the given url\n    client.previewSession(params.token, linkResolver, '/')\n      .then(url => history.push(url))\n  });\n\n  return <Loader />;\n}\n\nexport default Preview;\n"]},"metadata":{},"sourceType":"module"}